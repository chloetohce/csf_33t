<form action="" [formGroup]="form" (submit)="processForm()">
    <mat-form-field>
        <mat-label for="name">Name</mat-label>
        <input matInput type="text" formControlName="name" id="name">
    </mat-form-field>
    <br>
    <mat-form-field>
        <mat-label for="email">Email</mat-label>
        <input matInput type="text" formControlName="email" id="email">
    </mat-form-field>
    <br>
    <mat-form-field>
        <mat-label for="phone">Phone</mat-label>
        <input matInput type="text" formControlName="phone" id="phone">
    </mat-form-field>
    <br>
    <div>
        Hobbies
        <button type="button" (click)="addHobbyRow()">+</button>

        <div formArrayName="hobbies">
            <p>{{hobbies.value | json}}</p>
            @for (h of hobbies.controls; let i = $index; track i) {
                <mat-form-field [formGroupName]="i">
                    <mat-label>{{i + 1}}</mat-label>
                    <input matInput type="text" formControlName="hobby">
                    <button type="button" (click)="removeHobbyRow(i)">-</button>
                </mat-form-field>
                <br>
            }
        </div>
    </div>
    <button type="submit" [disabled]="form.invalid">Submit</button>
</form>